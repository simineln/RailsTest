<h1 class="page-header">Libraries <%= link_to "Add New", new_library_path, :class => "btn btn-success", :role => "button" %>
</h1><br>


<table class="table table-striped table-sm"> 
  <tr>
    <th>#</th>
    <th><%= link_to "Name", :sort => "name" %></th>
    <th><%= link_to "Address", :sort => "address" %> </th>
    <th>Description</th>
    <th><%= link_to "Clients", :sort => "clients" %></th>
    <th> </th>
  </tr>
  <% @libraries.each_with_index do |library, index| %>
    <tr>
      <td><%= index + 1 %></td>
      <td><%= library.name %></td>
      <td><%= library.address %></td>
      <td><%= library.description %></td>
      <td><%= Client.where(library_id: library.id).count %></td>
      <td>
        <%= link_to "View ", library_path(library), :class => "btn btn-info btn-sm", :role => "button" %>
        <%= link_to "Edit", edit_library_path(library), :class => "btn btn-warning btn-sm", :role => "button" %>
        <%= link_to "Delete", library_path(library), :class => "btn btn-danger btn-sm", :role => "button", method: :delete, data: {confirm: "Are you sure?"} %>
      </td>
    </tr>
  <% end %>
</table>